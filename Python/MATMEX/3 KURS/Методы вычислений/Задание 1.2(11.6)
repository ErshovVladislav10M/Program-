# Задание 11.6 вариант 5


# Метод Жордана - обратная матрица
def inv(A):
    inv_A = [[1, 0, 0], [0, 1, 0], [0, 0, 1]]
    a = A[1][0] / A[0][0]
    for i in range(3):
        A[1][i] -= A[0][i] * a
        inv_A[1][i] -= inv_A[0][i] * a
    a = A[2][0] / A[0][0]
    for i in range(3):
        A[2][i] -= A[0][i] * a
        inv_A[2][i] -= inv_A[0][i] * a
    a = A[2][1] / A[1][1]
    for i in range(3):
        A[2][i] -= A[1][i] * a
        inv_A[2][i] -= inv_A[1][i] * a
    for i in range(3):
        a = A[i][i]
        for j in range(3):
            A[i][j] /= a
            inv_A[i][j] /= a

    a = A[1][2] / A[2][2]
    for i in range(3):
        A[1][i] -= A[2][i] * a
        inv_A[1][i] -= inv_A[2][i] * a
    a = A[0][2] / A[2][2]
    for i in range(3):
        A[0][i] -= A[2][i] * a
        inv_A[0][i] -= inv_A[2][i] * a
    a = A[0][1] / A[1][1]
    for i in range(3):
        A[0][i] -= A[1][i] * a
        inv_A[0][i] -= inv_A[1][i] * a

    return inv_A


# Метод Гаусса - решение Ax = b
def solut(A, b):
    a = A[1][0] / A[0][0]
    for i in range(3):
        A[1][i] -= A[0][i] * a
    b[1] -= b[0] * a
    a = A[2][0] / A[0][0]
    for i in range(3):
        A[2][i] -= A[0][i] * a
    b[2] -= b[0] * a
    a = A[2][1] / A[1][1]
    for i in range(3):
        A[2][i] -= A[1][i] * a
    b[2] -= b[1] * a

    x3 = b[2] / A[2][2]
    x2 = (b[1] - x3 * A[1][2]) / A[1][1]
    x1 = (b[0] - x2 * A[0][1] - x3 * A[0][2]) / A[0][0]
    return [x1, x2, x3]


# LU разложение - нахождение определителя
def det(A):
    L = [[0, 0, 0], [0, 0, 0], [0, 0, 0]]
    U = [[1, 0, 0], [0, 1, 0], [0, 0, 1]]
    L[0][0] = A[0][0]
    L[1][0] = A[1][0]
    L[2][0] = A[2][0]
    U[0][1] = A[0][1] / L[0][0]
    U[0][2] = A[0][2] / L[0][0]
    L[1][1] = A[1][1] - L[1][0] * U[0][1]
    U[1][2] = (A[1][2] - L[1][0] * U[0][2]) / L[1][1]
    L[2][1] = A[2][1] - L[2][0] * U[0][1]
    L[2][2] = A[2][2] - L[2][0] * U[0][2] - L[2][1] * U[1][2]
    return L[0][0] * L[1][1] * L[2][2]


# Вычисление нормы матрицы
def comp_norm(A):
    ans = 0
    for i in range(len(A)):
        for j in range(len(A[i])):
            ans += A[i][j] ** 2
    return ans ** 0.5


A = [[8.673134, 1.041039, -2.677712], 
     [1.041039, 6.586211, 0.623016],
     [-2.677712, 0.623016, 5.225935]]
b = [-1.289879, 4.020225, 5.269671]

print('Решение Ax = b')
x = solut(A, b)
print(x)

A = [[8.673134, 1.041039, -2.677712], 
     [1.041039, 6.586211, 0.623016],
     [-2.677712, 0.623016, 5.225935]]
print('\nОбратная матрица к А')
print(inv(A))

A = [[8.673134, 1.041039, -2.677712], 
     [1.041039, 6.586211, 0.623016],
     [-2.677712, 0.623016, 5.225935]]
print('\nОпределитель матрицы А')
print(det(A))
